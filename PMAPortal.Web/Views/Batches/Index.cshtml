@inject ISessionService service;
@inject IDropdownService dropdownService;
@{
    Layout = "_DashboardLayout";
    ViewData["Title"] = "Batches";
}


<h2 class="mt-4">Batches</h2>
<ol class="breadcrumb mb-4">
    <li class="breadcrumb-item"><i class="fa fa-home"></i></li>
    <li class="breadcrumb-item active">Batches</li>
</ol>

<div class="row">
    <div class="col-sm-12">
        <div class="card">
            <div class="card-body">
                <div class="text-right mb-3">
                    <button type="button" id="addBtn" class="btn btn-primary btn-sm  px-3"><i class="fa fa-plus"></i>&nbsp; Upload Batch</button>
                </div>
                <div class="table-responsive">
                    <table id="batchesTable" class="table table-striped table-bordered f14">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>&nbsp;</th>
                                <th>No</th>
                                <th>File&nbsp;Name</th>
                                <th>No.&nbsp;of&nbsp;Customers</th>
                                <th>Date&nbsp;Shared</th>
                                <th>Date&nbsp;Shared</th>
                                <th>Created&nbsp;By</th>
                                <th>Date&nbsp;Created</th>
                                <th>Date&nbsp;Created</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Add Modal -->
<div class="modal fade" id="addModal">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Upload Batch <span></span></h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <form method="post">
                <fieldset>
                    <!-- Modal body -->
                    <div class="modal-body">
                        <div class="row mt-2">
                            <div class="col-sm-12">
                                <div class="alert alert-info f14">
                                    <h6 class="font-weight-bold"><i class="fa fa-info-circle"></i> Important Information</h6>
                                    <p>For a successful upload, kindly ensure the excel file you wish to upload complies with the template. Please ensure all required fields are filled and and in the correct format. Template can be downloaded via the button below<br /><br /></p>
                                    <p class="text-right"><a href="~/templates/MOS Customer Upload Template.xlsx" download="Batch Customer Upload Template.xlsx" class="btn btn-info btn-sm"><i class="fa fa-download"></i> Download template</a></p>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="" class="f14">* Batch File</label>
                                    <div class="input-group mb-3">
                                        <input type="text" id="ftext" class="form-control" disabled placeholder="Choose file" required />
                                        <input type="file" id="file" class="d-none" />
                                        <div class="input-group-append">
                                            <label for="file" class="btn btn-outline-secondary f14" type="button" style="padding-top:8px;padding-bottom:7px;"><i class="fa fa-folder-open"></i> Browse</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-sm-12">
                                <div class="form-group">
                                    <label for="dateShared" class="f14">* Date Shared</label>
                                    <input type="text" id="dateShared" class="form-control date" required placeholder="YYYY-MM-DD" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Modal footer -->
                    <div class="modal-footer">
                        <button type="button" class="btn btn-outline-light border text-dark btn-sm px-4 py-2 f12" data-dismiss="modal"><i class="fa fa-times"></i> &nbsp;Cancel</button>
                        <button type="submit" id="uploadBtn" class="btn btn-primary btn-sm px-4 py-2 f12"><i class="fa fa-upload"></i> &nbsp;Upload</button>
                    </div>
                </fieldset>
            </form>

        </div>
    </div>
</div>





@section css{
    <link href="~/lib/datatables.net-bs4/css/dataTables.bootstrap4.css" rel="stylesheet" />
}

@section js{
    <script src="~/lib/datatables.net/jquery.dataTables.js"></script>
    <script src="~/lib/datatables.net-bs4/js/dataTables.bootstrap4.js"></script>
    <script>

    </script>
    <script src="~/js/batches.js" asp-append-version="true"></script>

}